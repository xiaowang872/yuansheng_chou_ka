import{d as L,a as R,o as y}from"./outfit-d4a04b97.js";import{A as O,C}from"./app-stores-5af508d1.js";import{c as D,d as g,g as I,b as q}from"./index-123e2351.js";import{_ as s}from"./preload-helper-176e53da.js";import{y as E,$ as x,F as P}from"./runtime.esm-4bf604c8.js";const V=new RegExp(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i),S=new RegExp(/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i),z=e=>V.test(e)||S.test(e.substr(0,4)),N="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.81 Safari/537.36 Edg/104.0.1293.54",F=()=>{const e=screen.orientation?.angle;return!(e===90||e===270)&&window.matchMedia("screen and (max-width: 760px)").matches},Q=()=>{const e=navigator.userAgent||navigator.vendor||window.opera||N;return navigator?.userAgentData?.mobile||z(e)||F()},X=()=>{const e=window.navigator,t=e.userAgent;if(t.match("CriOS"))return{isSupported:!0,ios:!0};const r=window.chrome,n=e.vendor,c=typeof window.opr<"u",i=t.indexOf("Edg")>-1,o=t.indexOf("Firefox")>-1;return r!==null&&typeof r<"u"||n==="Google Inc."||c||i||o?{isSupported:!0}:{isSupported:!1}},Y=()=>{const e=window.navigator?.userAgent?.toLowerCase(),t=window.chrome,a=e?.indexOf("chrome");return e?.match("safari")&&!a&&!t},M=[{version:1,characters:["qiqi","keqing","diluc","mona","jean"],featured:{bannerName:"wanderlust-invocation-1",character:"jean"}},{version:2,characters:["qiqi","keqing","diluc","mona","jean"],featured:{bannerName:"wanderlust-invocation-2",character:"qiqi"}},{version:3,characters:["qiqi","keqing","diluc","mona","jean","tighnari"],featured:{bannerName:"wanderlust-invocation-2",character:"qiqi"}},{version:4,characters:["qiqi","keqing","diluc","mona","jean","tighnari","dehya"],featured:{bannerName:"wanderlust-invocation-2",character:"qiqi"}}];let j=[{name:"a08-01",chineseChar:"\u80E1\u5706\u5706"},{name:"a08-02",chineseChar:"\u6768\u8A89"},{name:"a08-03",chineseChar:"\u65B9\u4E3D\u8D85"},{name:"a08-04",chineseChar:"\u5F20\u96E8\u51E1"},{name:"a08-05",chineseChar:"\u80E1\u9896"},{name:"a08-06",chineseChar:"\u5F90\u4F73\u9896"},{name:"a08-07",chineseChar:"\u9676\u5065"},{name:"a08-08",chineseChar:"\u674E\u5FC3\u6021"},{name:"a08-09",chineseChar:"\u9676\u632F\u5B87"},{name:"a08-10",chineseChar:"\u6768\u9526\u660A"},{name:"a08-11",chineseChar:"\u7F57\u598D"},{name:"a08-12",chineseChar:"\u90B9\u82E5\u7433"},{name:"a08-13",chineseChar:"\u652F\u9E3F\u5EB7"},{name:"a08-14",chineseChar:"\u66FE\u6B63\u9E4F"},{name:"a08-15",chineseChar:"\u6C6A\u8BD7\u96E8"},{name:"a08-16",chineseChar:"\u5218\u4F73\u7389"},{name:"a08-17",chineseChar:"\u9AD8\u5B50\u6DB5"},{name:"a08-18",chineseChar:"\u80E1\u4F73\u6167"},{name:"a08-19",chineseChar:"\u80E1\u5FB7\u667A"},{name:"a08-20",chineseChar:"\u5434\u4F18"},{name:"a08-21",chineseChar:"\u5434\u6C38\u8BDA"},{name:"a08-22",chineseChar:"\u5218\u6587\u6D9B"},{name:"a08-23",chineseChar:"\u674E\u4FCA"},{name:"a08-24",chineseChar:"\u738B\u745E\u654F"},{name:"a08-25",chineseChar:"\u674E\u5609\u742A"},{name:"a08-26",chineseChar:"\u6BDB\u96E8\u80E7"},{name:"a08-27",chineseChar:"\u9EC4\u68A6\u6B23"},{name:"a08-28",chineseChar:"\u674E\u5065\u5F6C"},{name:"a08-29",chineseChar:"\u4FAF\u6167\u6B23"},{name:"a08-30",chineseChar:"\u718A\u601D\u8C6A"},{name:"a08-31",chineseChar:"\u51AF\u946B\u6021"},{name:"a08-32",chineseChar:"\u7F57\u6587\u8C6A"},{name:"a08-33",chineseChar:"\u80E1\u6B22"},{name:"a08-34",chineseChar:"\u4E07\u73C2\u9880"},{name:"a08-35",chineseChar:"\u718A\u5CFB\u827A"},{name:"a08-36",chineseChar:"\u94B1\u4F73"},{name:"a08-37",chineseChar:"\u718A\u664B\u946B"},{name:"a08-38",chineseChar:"\u652F\u5723\u5EB7"},{name:"a08-39",chineseChar:"\u7A0B\u8F72"},{name:"a08-40",chineseChar:"\u9676\u9E92\u5F18"},{name:"a08-41",chineseChar:"\u80E1\u5E86\u6D9B"},{name:"a08-42",chineseChar:"\u80E1\u82E5\u4E00"},{name:"a08-43",chineseChar:"\u4ED8\u5FD7\u8C0A"},{name:"a08-44",chineseChar:"\u90B9\u4F73\u4E50"},{name:"a08-45",chineseChar:"\u5F20\u715C\u6668"},{name:"a08-46",chineseChar:"\u5434\u5353\u96C5"},{name:"a08-47",chineseChar:"\u7AE0\u4F1F\u9E23"},{name:"a08-48",chineseChar:"\u6C5F\u4E49"},{name:"a08-49",chineseChar:"\u5434\u601D\u8D24"},{name:"a08-50",chineseChar:"\u8BF8\u6631\u660A"}];O.subscribe(e=>{});const Z=e=>{let t=new FileReader;for(t.onload=a=>{let r=a.target.result,n=[];console.log(r),r.split(`
`).forEach((i,o)=>{i.trim()!==""&&n.push({name:`n-${o}`,chineseChar:i.trim()})}),console.log(n),j=n,D.set(n),alert("\u4E0A\u4F20\u6210\u529F")},t.readAsText(e,"UTF-8");!t.readyState===FileReader.DONE;);},ee=({currentPity:e=0,maxPity:t=90,baseRate:a=.6,rateIncreasedAt:r=74}={})=>{if(a<=0&&e<t)return 0;if(e<r)return a;if(e>=t)return 100;const n=(100-a)/(t+1-r);return(e+1-r)*n+a},w=e=>{let t=[];for(let n=0;n<e.length;n++)t[n]=e[n].chance+(t[n-1]||0);const a=Math.random()*t[t.length-1];return e[t.findIndex(n=>n>a)]},_=(e,t)=>{if(e==="beginner")return C["character-event"][t];const a=C[e],r=g.get(e);if(!(r[t]||r[t]>=0))return a[t];const n=parseFloat(r[t]);return isNaN(n)?r[t]:n},te=(e,t,a)=>{const r=g.get(e);if(typeof a=="boolean")r[t]=a;else{const n=parseFloat(a);isNaN(n)?r[t]=a:r[t]=n}g.set(e,r)},m=e=>v(e).filter(({limited:t})=>!t),B=(e,t=null,a=null)=>e.filter(({release:r})=>{if(!r)return!0;const[n,c]=r.split("-");return!(parseFloat(t)<parseFloat(n)||parseFloat(t)===parseFloat(n)&&a<=parseInt(c))}),ae=e=>Array.isArray(e)?e.length<2?e[0]:e[Math.floor(Math.random()*e.length)]:e,re=(e=1,t=9)=>Math.floor(Math.random()*(t-e+1)+e),p=e=>L.filter(({rarity:t})=>t===e).map(t=>(t.type="character",t)),v=e=>R.filter(({rarity:t})=>t===e).map(t=>(t.type="weapon",t)),ne=()=>j.map(e=>(e.type="member",e.weaponType="catalyst",e.rarity=3,e)),ie=e=>e?L.find(({name:a})=>e===a)||{}:{},se=e=>e?R.find(({name:a})=>a===e)||{}:{},f=e=>e==="standard"?p(4):p(4).filter(({name:t})=>!y.includes(t)),oe=()=>m(3),ce=({banner:e="standard",version:t=null,phase:a=null,type:r=null,useRateup:n=!1,rateupNamelist:c=[]}={})=>{if(n)return(e==="character-event"||e==="beginner"?p(4):v(4)).filter(({name:T})=>c.includes(T));if(e==="beginner")return f(e).filter(({release:h})=>h==="1.0-0");let i;if(r=="all")i=[...f(e),...m(4)];else if(r==="character")i=f(e);else if(r==="weapon")i=m(4);else{const l=_(e,"charRate"),{itemType:h}=w([{itemType:"char",chance:l},{itemType:"wp",chance:100-l}]);i=h==="wp"?m(4):f(e)}return B(i,t,a).filter(({name:l})=>!c.includes(l))},d=(e=1)=>{const{characters:t}=M.find(({version:r})=>r===e);return p(5).filter(({name:r})=>t.includes(r))},le=({banner:e="standard",stdver:t=1,type:a=null,useRateup:r=!1,rateupItem:n=[],customData:c={}}={})=>{if(r&&e==="character-event"){if(Object.keys(c).length>0){const{vision:o,character:u,artPosition:l,itemID:h}=c;return{vision:o,itemID:h,name:u,offset:l||{},type:"character",rarity:5,custom:!0}}return p(5).find(({name:o})=>o===n[0])}if(r&&e==="weapon-event")return v(5).filter(({name:o})=>n.includes(o));if(e==="weapon-event")return m(5).filter(({name:o})=>!n.includes(o));if(e==="beginner")return d(1);if(e==="standard"||!e){let i;if(a==="all")i=[...d(t),...m(5)];else if(a==="character")i=d(t);else if(a==="weapon")i=m(5);else{const o=_(e,"charRate"),{itemType:u}=w([{itemType:"char",chance:o},{itemType:"wp",chance:100-o}]);i=u==="wp"?m(5):d(t)}return i}return d(t).filter(({name:i})=>!n.includes(i))},me=e=>{const t=_(e,"winRate"),{item:a}=w([{item:"rateup",chance:t},{item:"std",chance:100-t}]);return a==="rateup"},he=(e,t)=>{const a=I.get(`${e}-${t}star`),r=_(e,"guaranteed");return{status:a,never:r==="never",always:r==="always"}},b=(e,t)=>{const a=e[t];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((r,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})},k=["zh-CN"],W=["zh-CN"],U=()=>{const t=q.get("locale")||P();return k.find(r=>r.includes(t))||"en-US"},ue=()=>{k.forEach(t=>{E(t,()=>b(Object.assign({"../../locales/de-DE.json":()=>s(()=>import("./de-DE-3814d14a.js"),[],import.meta.url),"../../locales/en-US.json":()=>s(()=>import("./en-US-c052b9ea.js"),[],import.meta.url),"../../locales/fr-FR.json":()=>s(()=>import("./fr-FR-79ee7566.js"),[],import.meta.url),"../../locales/id-ID.json":()=>s(()=>import("./id-ID-e1da9308.js"),[],import.meta.url),"../../locales/it-IT.json":()=>s(()=>import("./it-IT-298ecc6e.js"),[],import.meta.url),"../../locales/ja-JP.json":()=>s(()=>import("./ja-JP-76868286.js"),[],import.meta.url),"../../locales/pt-BR.json":()=>s(()=>import("./pt-BR-ed487c6b.js"),[],import.meta.url),"../../locales/ru-RU.json":()=>s(()=>import("./ru-RU-dec1a909.js"),[],import.meta.url),"../../locales/th-TH.json":()=>s(()=>import("./th-TH-4b2a93d4.js"),[],import.meta.url),"../../locales/vi-VN.json":()=>s(()=>import("./vi-VN-32e2d47a.js"),[],import.meta.url),"../../locales/zh-CN.json":()=>s(()=>import("./zh-CN-0fc291e6.js"),[],import.meta.url),"../../locales/zh-TW.json":()=>s(()=>import("./zh-TW-f14f9f89.js"),[],import.meta.url)}),`../../locales/${t}.json`))}),W.forEach(t=>{E(t,()=>b(Object.assign({"../../locales/items/en-US.json":()=>s(()=>import("./en-US-510e5432.js"),[],import.meta.url),"../../locales/items/it-IT.json":()=>s(()=>import("./it-IT-99b53288.js"),[],import.meta.url),"../../locales/items/ja-JP.json":()=>s(()=>import("./ja-JP-496b182f.js"),[],import.meta.url),"../../locales/items/pt-BR.json":()=>s(()=>import("./pt-BR-cbc21a1b.js"),[],import.meta.url),"../../locales/items/ru-RU.json":()=>s(()=>import("./ru-RU-3743b22c.js"),[],import.meta.url),"../../locales/items/vi-VN.json":()=>s(()=>import("./vi-VN-a5bbf6fc.js"),[],import.meta.url),"../../locales/items/zh-CN.json":()=>s(()=>import("./zh-CN-513312df.js"),[],import.meta.url),"../../locales/items/zh-TW.json":()=>s(()=>import("./zh-TW-f0fed2a1.js"),[],import.meta.url)}),`../../locales/items/${t}.json`))});const e=U();x({fallbackLocale:"en-US",initialLocale:e})};export{b as _,Q as a,X as b,U as c,ae as d,he as e,me as f,oe as g,ce as h,Y as i,le as j,ne as k,_ as l,ue as m,ee as n,ie as o,w as p,te as q,re as r,M as s,se as t,Z as u};
